<!doctype html public "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<style>
body        { font-size: 11pt; font-family: Arial, Helvetica, sans-serif; }
body.title  { font-size: 12pt; font-family: sans-serif; }

h1          { font-size: 20pt; font-family: sans-serif; }
h2          { font-size: 16pt; font-family: sans-serif; }
h2.link     { font-size: 18pt; font-family: normal    ; }
h3          { font-size: 12pt; font-family: sans-serif; }
h3.link     { font-size: 14pt; font-weight: normal    ; }
h4          { font-size: 11pt; font-family: sans-serif; padding-left: 1em; }
h4.link     { font-size: 12pt; font-weight: normal    ; padding-left: 1em; }

a:link      { text-decoration: none; color: #004488; }
a:visited   { text-decoration: none; color: #004488; }
a:active    { text-decoration: none; color: #004488; }
a:hover     { font-weight:     bold; color: #004488; }
a.home      { margin-right:0; text-align:right; float:right; }
a.menuitem  { font-size: 12pt; }

hr.sep      { width: 250px; margin-top: 30px; margin-bottom: 20px }
hr.h1       { width: 300px; margin-top: 10px; margin-bottom: 40px;
              margin-left:0; text-align:left; }

dt          { font-style: italic; }

img         { border: 0; }

span.counter { color: #FF0000; }

.menuinfo   { margin-left:4px; font-size: 10pt; font-style: italic; }

li.do {
  background: url(img/done-small.png) no-repeat left top;
  padding-left: 20px; padding-bottom: -1px; list-style: none;
}
li.on {
  background: url(img/ongoing-small.png) no-repeat left top;
  padding-left: 20px; padding-bottom: -1px; list-style: none;
}
li.to {
  background: url(img/todo-small.png) no-repeat left top;
  padding-left: 20px; padding-bottom: -1px; list-style: none;
}
li.xc {
  background: url(img/xcheck-small.png) no-repeat left top;
  padding-left: 20px; padding-bottom: -1px; list-style: none;
}

img.do {
  box-sizing: border-box;
  background: url(img/done-small.png) no-repeat left top;
  width: 16px; height: 16px; padding-left: 16px; margin-bottom: -2px;
}
img.on {
  box-sizing: border-box;
  background: url(img/ongoing-small.png) no-repeat left top;
  width: 16px; height: 16px; padding-left: 16px; margin-bottom: -2px;
}
img.to {
  box-sizing: border-box;
  background: url(img/todo-small.png) no-repeat left top;
  width: 16px; height: 16px; padding-left: 16px; margin-bottom: -2px;
}
img.xc {
  box-sizing: border-box;
  background: url(img/xcheck-small.png) no-repeat left top;
  width: 16px; height: 16px; padding-left: 16px; margin-bottom: -2px;
}
</style>

<title>MAD - Methodical Accelerator Design</title>
</head>

<body>
<p><a class=home href="http://cern.ch/madx" onclick="target='_top'">[home]</a>
<h1>MAD Roadmap <small>(2016+)</small></h1>
<hr class="h1">

<p>
[<i>Disclamer: this roadmap includes only the development of the MAD 'next-generation', and the schedule is strongly subjected to my availability on this project. The development process is complex and does not involve the MAD-team for the time being (only partial time of LD), but this might change starting from beta releases 0.1 (Fall 2016).</i>]

<!-- -------- -->
<hr class="sep">
<h2>Beta releases planning for 2016-2017</h2>

<p>
The beta releases planning is an attempt to group and summarise the many items described in the remaing part of this page. The serious development started in May 2016 (see <a href="https://github.com/MethodicalAcceleratorDesign/MAD/graphs/contributors">contribution graph</a>) with the integration of the code developped for the demonstrator, but the progress depends on my daily avalaibility (see <a href="https://github.com/MethodicalAcceleratorDesign/MAD/graphs/punch-card">punch card</a>). Some items hereafter <i>(ports and benchmarks)</i> aim to facilitate the transition from MAD-X to MAD 'next-generation', including backward propagation of improvements to MAD-X when possible. I may deliver beta releases after each minor number in the <a href="http://cern.ch/mad/releases">releases repository</a>.

<p>
<i>Status: <img class="do"> done, <img class="on"> ongoing, <img class="to"> todo, <img class="xc"> cross-check.</i>

<ul>
<li class="do"> 0.0.1: integration: builds, front-end, online help, import and export, testing framework (2016.05&rarr;07).
<li class="do"> 0.0.2: extensions: lambda function, local in table, builtin xrange, concepts, MAD env (2016.05&rarr;07).
<li class="do"> 0.0.3: object model, deferred expressions (2016.05&rarr;08).
<li class="do"> 0.0.4: generic math, <i>generic functional</i>, ranges, random generators (2016.05&rarr;09).
<li class="on"> 0.0.5: complex numbers and linear (real and complex) algebra (2016.07&rarr;09).
<li class="on"> 0.0.6: solvers, eigens, SVD, FFTs, convolutions, correlations (2016.07&rarr;10).
</ul>

<p>
<img class="xc"> unit tests to benchmark algebra against matlab (octave).

<ul>
<li class="on"> 0.1.0: beams, elements, lines, sequences and tables (2016.09&rarr;).
<li class="on"> 0.1.1: survey tracking without errors (2016.09&rarr;).
<li class="on"> 0.1.2: plotting framework (2016.09&rarr;).
</ul>

<p>
<img class="xc"> port of LHC and HL-LHC sequences (and more).

<ul>
<li class="to"> 0.2.0: particles tracking without errors (2016.10&rarr;).
<li class="to"> 0.2.1: closed orbit search (2016.10&rarr;).
</ul>

<p>
<img class="xc"> unit tests to benchmark particles tracking in all elements without errors.

<ul>
<li class="to"> 0.3.0: GTPSA (real and complex).
<li class="to"> 0.3.1: high order maps tracking without errors.
<li class="to"> 0.3.2: linear normal forms and twiss parameters without errors.
<li class="to"> 0.3.3: closed orbit search (option using GTPSA).
</ul>

<p>
<img class="xc"> unit tests to benchmark high order maps tracking in all elements without errors.

<ul>
<li class="to"> 0.4.0: support for assemblies and errors.
<li class="to"> 0.4.1: support for patches, displacement and errors.
<li class="to"> 0.4.2: particles tracking with errors.
<li class="to"> 0.4.3: high order maps tracking with errors.
</ul>

<p>
<img class="xc"> unit tests to benchmark high order maps tracking in all elements with errors.

<ul>
<li class="to"> 0.5.0: optimisation with equality constraints.
<li class="to"> 0.5.1: optimisation with inequality constraints.
</ul>

<p>
<img class="xc"> unit tests to benchmark the matching capabilities with the existing modules.

<ul>
<li class="to"> 0.6.0: high order normal forms.
<li class="to"> 0.6.1: extraction of optics functions from high order maps.
</ul>

<p>
<img class="xc"> unit tests to benchmark the results from the new book of E. Forest.

<ul>
<li class="to"> 1.0.0: first non-beta releases (end 2017).
</ul>

<!-- -------- -->
<hr class="sep">
<h2>Beta releases progress for 2016&rarr;2017: </h2>

<!-- -------- -->
<h3>LuaJIT extensions (2016.05&rarr;07)</h3>

<h4><img class="do"> Lamda function syntax</h4>
<h4><img class="do"> Deferred expression in table constructor</h4>
<h4><img class="do"> Local in table syntax</h4>
<h4><img class="do"> Range builtin type</h4>
<h4><img class="do"> Range as numbers concatenation</h4>

<h3>Front-end extensions (2016.06&rarr;07)</h3>
<h4><img class="do"> Front-end integration, options for extensions</h4>
<h4><img class="do"> Support of .mad filename extension</h4>
<h4><img class="do"> Search for modules relative to executable path</h4>
<h4><img class="do"> Embedding Luajit modules (movable executable)</h4>
<h4><img class="do"> Embedding Luajit jit.* modules (movable executable)</h4>

<!--
<dl>
<dt>Objective:</dt>
<dd>Increase the cohesion of the code by splitting the monolithic file <tt>madxp.c</tt>, which contains 40000+ effective lines of code, into smaller files (modules).

<dt>Motivation:</dt>
<dd>A single monolithic file including all other C files is an uncomfortable situation for both compilers and maintainers: (<b>i</b>) compilation time cannot be reduced (always recompile everything); (<b>ii</b>) functions signatures are difficult to cross-check; (<b>iii</b>) functions signatures duplications (no API) lead to inconsistency between caller and callee (stack frame corruption); (<b>iv</b>) the lack of cohesion implies the need of tools like grep, awk or perl to find the information; (<b>v</b>) static analysis tools fail to parse and analyze the code; (<b>vi</b>) build systems are inefficient and brittle on such code architecture.

<dt>Dependency:</dt>
<dd> None. Most other tasks hereafter depend on this reorganization.

<dt>Appeared:</dt>
<dd>5.00.09. After the split into 66 modules, some tests proved the expected unchanged behavior digit by digit even after this huge restructuration.
</dl>
-->

</body>
</html>
