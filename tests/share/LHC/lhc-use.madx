option, -echo, -warn;

call, file='lhc_as-built.seq';
call, file='lhc_uvar.madx'; ! optional
call, file='opt_inj.madx';

option warn;
set, format = "-18.10g";

beam;
use sequence=lhcb2;
use sequence=lhcb1;

!select flag=survey, column={name,s,l,x,y,z};
!survey, file="survey.tfs";

select flag=survey, clear;
select flag=survey, column={name,s,l,angle,tilt,x,y,z,theta,phi,psi,globaltilt};
!while(i < 20){
  survey, file="survey_all.tfs";
!  i=i+1;
!}