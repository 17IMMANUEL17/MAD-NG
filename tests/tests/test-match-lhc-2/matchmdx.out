
  ++++++++++++++++++++++++++++++++++++++++++++
  +     MAD-X 5.05.02  (64 bit, Darwin)      +
  + Support: mad@cern.ch, http://cern.ch/mad +
  + Release   date: 2019.07.25               +
  + Execution date: 2020.04.29 17:08:07      +
  ++++++++++++++++++++++++++++++++++++++++++++
! time ../../madx64 testmatch.madx > matchmdx.out 2>&1



!---|----1----|----2----|----3----|----4----|----5----|----6----|----7----|---8;

Option,  -warn,info;



Title, "Matching an insertion of the LHC 6.5 lattice with MADX";



!---------------------------------------------------------------;

!           CALL IN SELECTION, SEQUENCE and OPTICS FILES;

!---------------------------------------------------------------;

option, -echo;



Beam, particle = proton, sequence=lhcb1, energy = 7000.0;

Beam, particle = proton, sequence=lhcb2, energy = 7000.0;

! the 'bv' parameter indicates that beam2 rotates counter-clockwise



! select IR8 of beam1:

call,file="toolkit/select.ir8.b1.madx";

doplot(iii): macro = {

  write,table=twiss,file="output/twissiii.dat";

  plot, haxis=s, vaxis1={betx,bety}, vaxis2={mux,muy}, interpolate, colour=100;

  plot, haxis=s, vaxis1={betx,bety}, vaxis2={dx,dpx} , interpolate, colour=100;

}



! TWISS1

use, period=lhcb1, range = S.CELL.78.B1/E.CELL.78.B1;

savebeta, label = bini1ir8, place = S.CELL.78.B1;

twiss, sequence=lhcb1;

enter Twiss module
  
iteration:   1 error:   0.000000E+00 deltap:   0.000000E+00
orbit:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
       106.9029682                 -0    0.0004056569002        49.65015014 

                q1                dq1            betxmax              dxmax 
      0.2634908042      -0.4834633103        176.9450877        2.008259336 

             dxrms             xcomax             xcorms                 q2 
       1.535889531                  0                  0       0.2430746761 

               dq2            betymax              dymax              dyrms 
      0.5617650541        180.2369084                 -0                  0 

            ycomax             ycorms             deltap            synch_1 
                 0                  0                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
show, bini1ir8;

command: beta0  module: control
parameter: betx   double value:        168.7188694
parameter: alfx   double value:        2.407088013
parameter: mux   double value:                  0
parameter: bety   double value:        35.09214899
parameter: alfy   double value:       -0.571406758
parameter: muy   double value:                  0
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:        1.960763171
parameter: dpx   double value:     -0.02818763508
parameter: dy   double value:                 -0
parameter: dpy   double value:                 -0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                  0
parameter: r12   double value:                  0
parameter: r21   double value:                  0
parameter: r22   double value:                  0
parameter: energy   double value:               7000
exec, doplot(1);

Plot - default table plotted: twiss

 GXPLOT-X11  1.50 initialized

 plot number =            1
Plot - default table plotted: twiss
 plot number =            2


bini1ir8->mux = 0;

bini1ir8->muy = 0;



! TWISS2

use, period=lhcb1, range = S.CELL.81.B1/E.CELL.81.B1;

savebeta, label = bini2ir8, place = E.CELL.81.B1;

twiss, sequence=lhcb1;

enter Twiss module
  
iteration:   1 error:   0.000000E+00 deltap:   0.000000E+00
orbit:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
       106.8970318                 -0    0.0004057041854        49.64725667 

                q1                dq1            betxmax              dxmax 
      0.2634717773       0.5807149294        176.9293486        2.008338793 

             dxrms             xcomax             xcorms                 q2 
       1.464873301                  0                  0       0.2430568194 

               dq2            betymax              dymax              dyrms 
      0.3575647037        180.2234757                 -0                  0 

            ycomax             ycorms             deltap            synch_1 
                 0                  0                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
show, bini2ir8;

command: beta0  module: control
parameter: betx   double value:        31.41551976
parameter: alfx   double value:      -0.5152452573
parameter: mux   double value:       0.2634717773
parameter: bety   double value:        172.2062298
parameter: alfy   double value:        2.347159372
parameter: muy   double value:       0.2430568194
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:       0.9957580121
parameter: dpx   double value:      0.01289651951
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000
exec, doplot(2);

Plot - default table plotted: twiss
 plot number =            3
Plot - default table plotted: twiss
 plot number =            4


! TWISS3

use, period=lhcb1, range = S.CELL.78.B1/S.DS.L8.B1;

savebeta, label = bir8b1, place = S.DS.L8.B1;

twiss, sequence=lhcb1, beta0 = bini1ir8;

enter Twiss module
 Found 6 initial orbit vector values from twiss command. 
  
open line - error with deltap:   0.000000E+00
initial orbit vector:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00
final orbit vector:     0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
       1276.365618                 -0                  0                  0 

                q1                dq1            betxmax              dxmax 
       3.156036922                  0        176.9450877        2.008259336 

             dxrms             xcomax             xcorms                 q2 
       1.505261214                  0                  0         2.88612878 

               dq2            betymax              dymax              dyrms 
                 0        180.2369084                  0                  0 

            ycomax             ycorms             deltap            synch_1 
                 0                  0                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
show, bir8b1;

command: beta0  module: control
parameter: betx   double value:        168.7188694
parameter: alfx   double value:       -2.407088013
parameter: mux   double value:        3.156036922
parameter: bety   double value:        35.09214899
parameter: alfy   double value:        0.571406758
parameter: muy   double value:         2.88612878
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:        1.960763171
parameter: dpx   double value:      0.02818763508
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000
exec, doplot(3);

Plot - default table plotted: twiss
 plot number =            5
Plot - default table plotted: twiss
 plot number =            6


bir8b1->mux = 0;

bir8b1->muy = 0;



! TWISS4

seqedit, sequence=lhcb1;

reflect;

endedit;

++++++ info: seqedit - number of elements installed:  0
++++++ info: seqedit - number of elements moved:      0
++++++ info: seqedit - number of elements removed:    0
++++++ info: seqedit - number of elements replaced:   0


bini1ir8->betx =  bini2ir8->betx;

bini1ir8->bety =  bini2ir8->bety;

bini1ir8->alfx = -bini2ir8->alfx;

bini1ir8->alfy = -bini2ir8->alfy;

bini1ir8->dx   =  bini2ir8->dx;

bini1ir8->dpx  = -bini2ir8->dpx;

bini1ir8->mux  =  0;

bini1ir8->muy  =  0;

show, bini1ir8;

command: beta0  module: control
parameter: betx   double value:        31.41551976
parameter: alfx   double value:       0.5152452573
parameter: mux   double value:                  0
parameter: bety   double value:        172.2062298
parameter: alfy   double value:       -2.347159372
parameter: muy   double value:                  0
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:       0.9957580121
parameter: dpx   double value:     -0.01289651951
parameter: dy   double value:                 -0
parameter: dpy   double value:                 -0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                  0
parameter: r12   double value:                  0
parameter: r21   double value:                  0
parameter: r22   double value:                  0
parameter: energy   double value:               7000


use, period=lhcb1, range = E.CELL.81.B1/E.DS.R8.B1;

savebeta, label = eir8b1, place = E.DS.R8.B1;

twiss, sequence=lhcb1, beta0=bini1ir8;

enter Twiss module
 Found 6 initial orbit vector values from twiss command. 
  
open line - error with deltap:   0.000000E+00
initial orbit vector:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00
final orbit vector:     0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
       1068.970318                 -0                  0                  0 

                q1                dq1            betxmax              dxmax 
       2.634717773                  0        176.9293486        2.008338793 

             dxrms             xcomax             xcorms                 q2 
       1.482205469                  0                  0        2.430568194 

               dq2            betymax              dymax              dyrms 
                 0        180.2234757                  0                  0 

            ycomax             ycorms             deltap            synch_1 
                 0                  0                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
show, eir8b1;

command: beta0  module: control
parameter: betx   double value:        31.41551976
parameter: alfx   double value:       0.5152452573
parameter: mux   double value:        2.634717773
parameter: bety   double value:        172.2062298
parameter: alfy   double value:       -2.347159372
parameter: muy   double value:        2.430568194
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:       0.9957580121
parameter: dpx   double value:     -0.01289651951
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000
exec, doplot(4);

Plot - default table plotted: twiss
 plot number =            7
Plot - default table plotted: twiss
 plot number =            8


eir8b1->mux  = muxip8;

eir8b1->muy  = muyip8;

eir8b1->alfx = -eir8b1->alfx;

eir8b1->alfy = -eir8b1->alfy;

eir8b1->dpx  = -eir8b1->dpx;

eir8b1->dpy  = -eir8b1->dpy;

show, eir8b1;

command: beta0  module: control
parameter: betx   double value:        31.41551976
parameter: alfx   double value:      -0.5152452573
parameter: mux   double value:                  0
parameter: bety   double value:        172.2062298
parameter: alfy   double value:        2.347159372
parameter: muy   double value:                  0
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:       0.9957580121
parameter: dpx   double value:      0.01289651951
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000


seqedit, sequence=lhcb1;

reflect;

endedit;

++++++ info: seqedit - number of elements installed:  0
++++++ info: seqedit - number of elements moved:      0
++++++ info: seqedit - number of elements removed:    0
++++++ info: seqedit - number of elements replaced:   0




! TWISS5

use, period=lhcb1, range = S.DS.L8.B1/E.DS.R8.B1;

savebeta, label = bip8b1, place = IP8;

twiss, sequence=lhcb1, beta0=bir8b1;

enter Twiss module
 Found 6 initial orbit vector values from twiss command. 
  
open line - error with deltap:   0.000000E+00
initial orbit vector:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00
final orbit vector:    -3.446111E-09  8.180880E-12 -9.779835E-11  6.328585E-13  8.075242E-06  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
         1093.4994                 -0                  0                  0 

                q1                dq1            betxmax              dxmax 
       3.182999956                  0        320.6260502        2.434492142 

             dxrms             xcomax             xcorms                 q2 
      0.9473646359       0.0114100371     0.003488409464        2.974000003 

               dq2            betymax              dymax              dyrms 
                 0        269.9919818      0.01703724465      0.00606528885 

            ycomax             ycorms             deltap            synch_1 
    0.003038356415    0.0007819606128                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
show, bip8b1;

command: beta0  module: control
parameter: betx   double value:        10.00000345
parameter: alfx   double value:    6.233964272e-08
parameter: mux   double value:        1.663156687
parameter: bety   double value:        9.999998272
parameter: alfy   double value:    4.058119698e-07
parameter: muy   double value:        1.355453362
parameter: x   double value:     2.15960652e-09
parameter: px   double value:   -0.0001000119507
parameter: y   double value:    -0.002000000001
parameter: py   double value:    1.809739855e-06
parameter: t   double value:    6.602946363e-06
parameter: pt   double value:                  0
parameter: dx   double value:      0.01538974113
parameter: dpx   double value:    0.0002782167299
parameter: dy   double value:    -0.004535553658
parameter: dpy   double value:   -0.0001465961221
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:    3.025740147e-10
parameter: r12   double value:   -3.622608018e-09
parameter: r21   double value:   -9.273533499e-10
parameter: r22   double value:    1.112626255e-08
parameter: energy   double value:               7000
exec, doplot(5);

Plot - default table plotted: twiss
 plot number =            9
Plot - default table plotted: twiss
 plot number =           10


Use, period=lhcb1, range = S.DS.L8.B1/E.DS.R8.B1;



return;

call,file="toolkit/twissini.ir8.b1.madx";

SELECT, FLAG=TWISS,clear;

SELECT, FLAG=TWISS,column=name,s,betx,bety,alfx,alfy,dx,dpx,x,px,y,py,mux,muy;

TWISS,sequence=lhcb1,file=twiss.ir8.b1.data,beta0=bir8b1,save;

enter Twiss module
 Found 6 initial orbit vector values from twiss command. 
  
open line - error with deltap:   0.000000E+00
initial orbit vector:   0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00
final orbit vector:    -3.446111E-09  8.180880E-12 -9.779835E-11  6.328585E-13  8.075242E-06  0.000000E+00

++++++ table: summ

            length             orbit5               alfa            gammatr 
         1093.4994                 -0                  0                  0 

                q1                dq1            betxmax              dxmax 
       3.182999956                  0        320.6260502        2.434492142 

             dxrms             xcomax             xcorms                 q2 
      0.9473646359       0.0114100371     0.003488409464        2.974000003 

               dq2            betymax              dymax              dyrms 
                 0        269.9919818      0.01703724465      0.00606528885 

            ycomax             ycorms             deltap            synch_1 
    0.003038356415    0.0007819606128                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 

            nflips 
                 0 
!System,"cat twiss.ir8.b1.data";

return;



! Create table for storing data

n=0;

create,table=str.ip8.b1,column=n,kq4.l8b1, kq5.l8b1, kq6.l8b1, kq7.l8b1, kq8.l8b1, kq9.l8b1, kq10.l8b1, kqtl11.l8b1, kqt12.l8b1, kqt13.l8b1,kq4.r8b1, kq5.r8b1, kq6.r8b1, kq7.r8b1, kq8.r8b1, kq9.r8b1, kq10.r8b1, kqtl11.r8b1, kqt12.r8b1, kqt13.r8b1,beta.ip8,tar;



! fill the table

fill,table=str.ip8.b1;



! set match variables

muxip8 := 3.204; ! Horizontal phase advance over IR8

muyip8 := 2.804; ! Vertical phase advance over IR8

scale := 23348.89927;

qtlimit1 := 1.0*220.0/scale;

qtlimit2 := 1.0*200.0/scale;

qtlimit3 := 1.0*130.0/scale;

qtlimit4 := 1.0*160.0/scale;



show, bir8b1;

command: beta0  module: control
parameter: betx   double value:        168.7188694
parameter: alfx   double value:       -2.407088013
parameter: mux   double value:                  0
parameter: bety   double value:        35.09214899
parameter: alfy   double value:        0.571406758
parameter: muy   double value:                  0
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:        1.960763171
parameter: dpx   double value:      0.02818763508
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000
show, eir8b1;

command: beta0  module: control
parameter: betx   double value:        31.41551976
parameter: alfx   double value:      -0.5152452573
parameter: mux   double value:                  0
parameter: bety   double value:        172.2062298
parameter: alfy   double value:        2.347159372
parameter: muy   double value:                  0
parameter: x   double value:                  0
parameter: px   double value:                  0
parameter: y   double value:                  0
parameter: py   double value:                  0
parameter: t   double value:                  0
parameter: pt   double value:                  0
parameter: dx   double value:       0.9957580121
parameter: dpx   double value:      0.01289651951
parameter: dy   double value:                  0
parameter: dpy   double value:                  0
parameter: wx   double value:                  0
parameter: phix   double value:                  0
parameter: dmux   double value:                  0
parameter: wy   double value:                  0
parameter: phiy   double value:                  0
parameter: dmuy   double value:                  0
parameter: ddx   double value:                  0
parameter: ddpx   double value:                  0
parameter: ddy   double value:                  0
parameter: ddpy   double value:                  0
parameter: r11   double value:                 -0
parameter: r12   double value:                 -0
parameter: r21   double value:                 -0
parameter: r22   double value:                 -0
parameter: energy   double value:               7000


tar=0;

ncall=0;

while( n < 2 ) {  ! tar < 1E-10 ) {

n=n+1;

beta.ip8=beta.ip8*.6;

match, use_macro;

vary,name=KQ4.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ5.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ6.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ7.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ8.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ9.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ10.L8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQTL11.L8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;

vary,name=KQT12.L8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;

vary,name=KQT13.L8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;



vary,name=KQ4.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ5.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ6.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ7.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ8.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ9.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQ10.R8B1,step=1.0e-6,LOWER=-qtlimit2,UPPER=qtlimit2;

vary,name=KQTL11.R8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;

vary,name=KQT12.R8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;

vary,name=KQT13.R8B1,step=1.0e-6,LOWER=-qtlimit3,UPPER=qtlimit3;



m1: macro = {

  ncall=ncall+1;

  twiss,sequence=lhcb1,beta0=bir8b1;

}



constraint, expr = table(twiss,ip8,betx) = beta.ip8;

constraint, expr = table(twiss,ip8,bety) = beta.ip8;

constraint, expr = table(twiss,ip8,alfx) = 0;

constraint, expr = table(twiss,ip8,alfy) = 0;

constraint, expr = table(twiss,ip8,dx  ) = 0;

constraint, expr = table(twiss,ip8,dpx ) = 0;



constraint, expr = table(twiss,e.ds.r8.b1,alfx) = eir8b1->alfx;

constraint, expr = table(twiss,e.ds.r8.b1,alfy) = eir8b1->alfy;

constraint, expr = table(twiss,e.ds.r8.b1,betx) = eir8b1->betx;

constraint, expr = table(twiss,e.ds.r8.b1,bety) = eir8b1->bety;

constraint, expr = table(twiss,e.ds.r8.b1,dx  ) = eir8b1->dx ;

constraint, expr = table(twiss,e.ds.r8.b1,dpx ) = eir8b1->dpx;

constraint, expr = table(twiss,e.ds.r8.b1,mux ) = muxip8;

constraint, expr = table(twiss,e.ds.r8.b1,muy ) = muyip8;



jacobian,calls=30,tolerance=1.e-24;

endmatch;



fill,table=str.ip8.b1;

};

++++++ info: n redefined
++++++ info: beta.ip8 redefined
number of variables:    20
user given constraints: 0
total constraints:      14

START JACOBIAN:

 JACOBIAN Strategy =           3
++++++ info: ncall redefined
Initial Penalty Function =   0.3203489945694948E+02


++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    115196.29883099129     
 exclude parameter:kqt13.l8b1                                      hit maximum
 exclude parameter:kqtl11.r8b1                                     hit minimum
 Reset system to           14 con,          18 var
 Solve system with           14 con,          18 var
 Rank            14   Condition number    211811.72624921441     
 exclude parameter:kq7.l8b1                                        hit maximum
 exclude parameter:kqt12.r8b1                                      hit minimum
 Reset system to           14 con,          18 var
 Solve system with           14 con,          16 var
 Rank            14   Condition number    593438.90478547965     
 exclude parameter:kq8.l8b1                                        hit minimum
 exclude parameter:kq9.l8b1                                        hit maximum
 exclude parameter:kq10.l8b1                                       hit minimum
 exclude parameter:kqt12.l8b1                                      hit maximum
 Reset system to           14 con,          16 var
 Too var to exclude, set strategy=1
++++++ info: ncall redefined
 Step length    233.32509383420825     
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            3
++++++ info: ncall redefined
call:     2 Dx =   0.23332509E+03  Penalty function =  0.3203489945694948E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    115196.29883099129     
reset parameter: kqt13.l8b1              from  0.64035039E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57471124E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.13349473664470526     
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            3
++++++ info: ncall redefined
call:     3 Dx =   0.13308077E+00  Penalty function =  0.2582741571660630E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    116139.80815893479     
reset parameter: kqt13.l8b1              from  0.67538983E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57107971E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.13216425488673531     
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            2
++++++ info: ncall redefined
call:     4 Dx =   0.13204766E+00  Penalty function =  0.1718738323729035E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    120739.00629299985     
reset parameter: kqt13.l8b1              from  0.71194754E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56425383E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.12363221425042159     
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            2
++++++ info: ncall redefined
call:     5 Dx =   0.12370251E+00  Penalty function =  0.1140883080980899E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    121954.04219387536     
reset parameter: kqt13.l8b1              from  0.72535395E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56571464E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.11405704944322723     
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            3
++++++ info: ncall redefined
call:     6 Dx =   0.11412835E+00  Penalty function =  0.1022279144205309E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    123336.09221846171     
reset parameter: kqt13.l8b1              from  0.72882632E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56716984E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.11015843616957767     
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            3
++++++ info: ncall redefined
call:     7 Dx =   0.11022547E+00  Penalty function =  0.9160115565367352E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    124979.15178361657     
reset parameter: kqt13.l8b1              from  0.73126478E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56851331E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length   0.10660665581797710     
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            2
++++++ info: ncall redefined
call:     8 Dx =   0.10666920E+00  Penalty function =  0.8819977572558086E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    128343.47847136816     
reset parameter: kqt13.l8b1              from  0.73398808E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57094983E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    9.9991709998038233E-002
++++++ info: ncall redefined
++++++ info: ncall redefined
 Bisec iteration            2
++++++ info: ncall redefined
call:     9 Dx =   0.10003859E+00  Penalty function =  0.7551340100856253E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    131553.45539765799     
reset parameter: kqt13.l8b1              from  0.73363142E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57278571E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    9.4226337357113985E-002
++++++ info: ncall redefined
 Bisec iteration            1
++++++ info: ncall redefined
call:    10 Dx =   0.94256186E-01  Penalty function =  0.6513637535241099E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    136393.40284832247     
reset parameter: kqt13.l8b1              from  0.72762738E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57572330E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    8.3737625443585983E-002
++++++ info: ncall redefined
call:    11 Dx =   0.83737625E-01  Penalty function =  0.5262100351753657E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    140011.81426394204     
reset parameter: kqt13.l8b1              from  0.70375654E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57888607E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    6.6701777812236240E-002
++++++ info: ncall redefined
call:    12 Dx =   0.66701778E-01  Penalty function =  0.4604190515463953E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139333.68023692223     
reset parameter: kqt13.l8b1              from  0.67381973E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57754681E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    5.4691497295602236E-002
++++++ info: ncall redefined
call:    13 Dx =   0.54691497E-01  Penalty function =  0.2258715676348550E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    140155.60289584621     
reset parameter: kqt13.l8b1              from  0.64268749E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.57426340E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    4.1832000640082370E-002
++++++ info: ncall redefined
call:    14 Dx =   0.41832001E-01  Penalty function =  0.9294872601082078E+00
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    143256.60476003139     
reset parameter: kqt13.l8b1              from  0.60938521E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56842665E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    2.7776751879159133E-002
++++++ info: ncall redefined
call:    15 Dx =   0.27776752E-01  Penalty function =  0.2049828669493633E+00
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    145638.82288890335     
reset parameter: kqt13.l8b1              from  0.57867388E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.56130858E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    1.3551371413376189E-002
++++++ info: ncall redefined
call:    16 Dx =   0.13551371E-01  Penalty function =  0.1350857027362449E-01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    143124.43485356195     
reset parameter: kqt13.l8b1              from  0.56213545E-02  to  0.55657143E-02
reset parameter: kqtl11.r8b1             from -0.55741341E-02  to -0.55657143E-02
++++++ info: ncall redefined
 Step length    4.1278777647948944E-003
++++++ info: ncall redefined
call:    17 Dx =   0.41278778E-02  Penalty function =  0.2034693481514454E-02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    140334.28484516375     
reset parameter: kqt13.l8b1              from  0.55781274E-02  to  0.55657143E-02
++++++ info: ncall redefined
 Step length    9.9775651313575809E-004
++++++ info: ncall redefined
call:    18 Dx =   0.99775651E-03  Penalty function =  0.3255349034452983E-03
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139682.39526245414     
reset parameter: kqt13.l8b1              from  0.55687531E-02  to  0.55666755E-02
++++++ info: ncall redefined
 Step length    2.4694138472444591E-004
++++++ info: ncall redefined
call:    19 Dx =   0.24694138E-03  Penalty function =  0.9478110435143242E-05
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139585.68467854822     
++++++ info: ncall redefined
 Step length    4.2425516659179985E-005
++++++ info: ncall redefined
call:    20 Dx =   0.42425517E-04  Penalty function =  0.6767442351150126E-10
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139570.37105970635     
++++++ info: ncall redefined
 Step length    2.7152464153010142E-008
++++++ info: ncall redefined
call:    21 Dx =   0.27152464E-07  Penalty function =  0.3613321986987558E-19
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139570.34739798334     
++++++ info: ncall redefined
 Step length    9.7843883494754576E-013
++++++ info: ncall redefined
call:    22 Dx =   0.97843883E-12  Penalty function =  0.4442110809526381E-24
 ++++++++++ JACOBIAN ended: converged successfully
++++++ info: ncall redefined
 Final difference norm:   6.5242224687476091E-002

MATCH SUMMARY

--------------------------------------------------------------------
macro: m1                  
  constraint: table(twiss,ip8,betx)=beta.ip8          
  values:     +6.00000e+00=+6.00000e+00
  weight:     +1.00000e+00
  penalty:    +5.77316e-14

  constraint: table(twiss,ip8,bety)=beta.ip8          
  values:     +6.00000e+00=+6.00000e+00
  weight:     +1.00000e+00
  penalty:    -4.26326e-14

  constraint: table(twiss,ip8,alfx)=0                 
  values:     +7.73004e-15=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    +7.73004e-15

  constraint: table(twiss,ip8,alfy)=0                 
  values:     -1.26641e-14=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    -1.26641e-14

  constraint: table(twiss,ip8,dx)=0                   
  values:     +4.32976e-16=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    +4.32976e-16

  constraint: table(twiss,ip8,dpx)=0                  
  values:     +6.79439e-17=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    +6.79439e-17

  constraint: table(twiss,e.ds.r8.b1,alfx)=eir8b1->alfx
  values:     -5.15245e-01=-5.15245e-01
  weight:     +1.00000e+00
  penalty:    +1.02141e-14

  constraint: table(twiss,e.ds.r8.b1,alfy)=eir8b1->alfy
  values:     +2.34716e+00=+2.34716e+00
  weight:     +1.00000e+00
  penalty:    -5.32907e-15

  constraint: table(twiss,e.ds.r8.b1,betx)=eir8b1->betx
  values:     +3.14155e+01=+3.14155e+01
  weight:     +1.00000e+00
  penalty:    +1.06581e-13

  constraint: table(twiss,e.ds.r8.b1,bety)=eir8b1->bety
  values:     +1.72206e+02=+1.72206e+02
  weight:     +1.00000e+00
  penalty:    +6.53699e-13

  constraint: table(twiss,e.ds.r8.b1,dx)=eir8b1->dx   
  values:     +9.95758e-01=+9.95758e-01
  weight:     +1.00000e+00
  penalty:    -2.99760e-15

  constraint: table(twiss,e.ds.r8.b1,dpx)=eir8b1->dpx 
  values:     +1.28965e-02=+1.28965e-02
  weight:     +1.00000e+00
  penalty:    -7.45931e-17

  constraint: table(twiss,e.ds.r8.b1,mux)=muxip8      
  values:     +3.20400e+00=+3.20400e+00
  weight:     +1.00000e+00
  penalty:    +3.99680e-15

  constraint: table(twiss,e.ds.r8.b1,muy)=muyip8      
  values:     +2.80400e+00=+2.80400e+00
  weight:     +1.00000e+00
  penalty:    -4.44089e-16



Final Penalty Function =   4.44211081e-25



Variable                 Final Value  Initial Value Lower Limit  Upper Limit 
--------------------------------------------------------------------------------
kq4.l8b1                 -4.18771e-03 -4.31524e-03 -8.56571e-03  8.56571e-03
kq5.l8b1                  5.13846e-03  5.28621e-03 -8.56571e-03  8.56571e-03
kq6.l8b1                 -4.97770e-03 -5.10286e-03 -8.56571e-03  8.56571e-03
kq7.l8b1                  8.11522e-03  8.25168e-03 -8.56571e-03  8.56571e-03
kq8.l8b1                 -5.79118e-03 -5.85528e-03 -8.56571e-03  8.56571e-03
kq9.l8b1                  7.25303e-03  7.07113e-03 -8.56571e-03  8.56571e-03
kq10.l8b1                -5.59176e-03 -6.39311e-03 -8.56571e-03  8.56571e-03
kqtl11.l8b1               4.29513e-04  7.07398e-04 -5.56771e-03  5.56771e-03
kqt12.l8b1               -1.53914e-03 -3.08650e-03 -5.56771e-03  5.56771e-03
kqt13.l8b1                5.56720e-03  3.78543e-03 -5.56771e-03  5.56771e-03
kq4.r8b1                  3.06157e-03  4.39728e-03 -8.56571e-03  8.56571e-03
kq5.r8b1                 -2.76586e-03 -4.21383e-03 -8.56571e-03  8.56571e-03
kq6.r8b1                  4.28389e-03  4.05914e-03 -8.56571e-03  8.56571e-03
kq7.r8b1                 -6.29405e-03 -6.65981e-03 -8.56571e-03  8.56571e-03
kq8.r8b1                  8.55625e-03  6.92571e-03 -8.56571e-03  8.56571e-03
kq9.r8b1                 -8.08849e-03 -7.46154e-03 -8.56571e-03  8.56571e-03
kq10.r8b1                 7.63425e-03  7.55573e-03 -8.56571e-03  8.56571e-03
kqtl11.r8b1              -5.56633e-03 -4.78966e-03 -5.56771e-03  5.56771e-03
kqt12.r8b1               -6.74525e-04 -1.74210e-03 -5.56771e-03  5.56771e-03
kqt13.r8b1               -1.92490e-03 -3.61438e-03 -5.56771e-03  5.56771e-03

END MATCH SUMMARY

VARIABLE "TAR" SET TO   4.44211081e-25
++++++ info: n redefined
++++++ info: beta.ip8 redefined
++++++ warning: macro redefined: m1
number of variables:    20
user given constraints: 0
total constraints:      14

START JACOBIAN:

 JACOBIAN Strategy =           3
++++++ info: ncall redefined
Initial Penalty Function =   0.1152000000000008E+02


++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    139570.34744331895     
 exclude parameter:kqtl11.r8b1                                     hit minimum
 Reset system to           14 con,          19 var
 Solve system with           14 con,          19 var
 Rank            14   Condition number    143690.81101095103     
++++++ info: ncall redefined
 Step length    4.8357511649725356E-002
++++++ info: ncall redefined
 Bisec iteration            1
++++++ info: ncall redefined
call:     2 Dx =   0.48260708E-01  Penalty function =  0.1074371575873705E+02
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    135974.62716987578     
 exclude parameter:kqt13.l8b1                                      hit maximum
 Reset system to           14 con,          19 var
 Solve system with           14 con,          19 var
 Rank            14   Condition number    137553.88127010380     
++++++ info: ncall redefined
 Step length    2.4180348050470313E-002
++++++ info: ncall redefined
call:     3 Dx =   0.24180348E-01  Penalty function =  0.6070609530306151E+01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    136698.29054468981     
++++++ info: ncall redefined
 Step length    4.9695209385229935E-003
++++++ info: ncall redefined
call:     4 Dx =   0.49695209E-02  Penalty function =  0.5373631907190058E-01
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    138078.18254547854     
++++++ info: ncall redefined
 Step length    4.5636885855035323E-004
++++++ info: ncall redefined
call:     5 Dx =   0.45636886E-03  Penalty function =  0.1303846451011535E-05
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    137924.12635226478     
++++++ info: ncall redefined
 Step length    2.3832577786501055E-006
++++++ info: ncall redefined
call:     6 Dx =   0.23832578E-05  Penalty function =  0.2658709130673121E-13
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    137924.81207714681     
++++++ info: ncall redefined
 Step length    5.3057476692657033E-010
++++++ info: ncall redefined
call:     7 Dx =   0.53057477E-09  Penalty function =  0.3893261649441438E-20
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    137924.81166165331     
++++++ info: ncall redefined
 Step length    3.7819467978637247E-014
++++++ info: ncall redefined
call:     8 Dx =   0.37819468E-13  Penalty function =  0.1154838271735424E-23
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
++++++ info: ncall redefined
 Solve system with           14 con,          20 var
 Rank            14   Condition number    137924.81151913380     
++++++ info: ncall redefined
 Step length    2.2526024214612985E-015
++++++ info: ncall redefined
 Bisec iteration            1
++++++ info: ncall redefined
call:     9 Dx =   0.22526024E-14  Penalty function =  0.8205324976402832E-24
 ++++++++++ JACOBIAN ended: converged successfully
++++++ info: ncall redefined
 Final difference norm:   3.1617235867564999E-002

MATCH SUMMARY

--------------------------------------------------------------------
macro: m1                  
  constraint: table(twiss,ip8,betx)=beta.ip8          
  values:     +3.60000e+00=+3.60000e+00
  weight:     +1.00000e+00
  penalty:    +1.42109e-14

  constraint: table(twiss,ip8,bety)=beta.ip8          
  values:     +3.60000e+00=+3.60000e+00
  weight:     +1.00000e+00
  penalty:    +6.21725e-15

  constraint: table(twiss,ip8,alfx)=0                 
  values:     -5.25350e-15=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    -5.25350e-15

  constraint: table(twiss,ip8,alfy)=0                 
  values:     +1.50100e-15=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    +1.50100e-15

  constraint: table(twiss,ip8,dx)=0                   
  values:     -1.38398e-16=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    -1.38398e-16

  constraint: table(twiss,ip8,dpx)=0                  
  values:     -1.26411e-17=+0.00000e+00
  weight:     +1.00000e+00
  penalty:    -1.26411e-17

  constraint: table(twiss,e.ds.r8.b1,alfx)=eir8b1->alfx
  values:     -5.15245e-01=-5.15245e-01
  weight:     +1.00000e+00
  penalty:    -1.72085e-14

  constraint: table(twiss,e.ds.r8.b1,alfy)=eir8b1->alfy
  values:     +2.34716e+00=+2.34716e+00
  weight:     +1.00000e+00
  penalty:    +0.00000e+00

  constraint: table(twiss,e.ds.r8.b1,betx)=eir8b1->betx
  values:     +3.14155e+01=+3.14155e+01
  weight:     +1.00000e+00
  penalty:    +5.61329e-13

  constraint: table(twiss,e.ds.r8.b1,bety)=eir8b1->bety
  values:     +1.72206e+02=+1.72206e+02
  weight:     +1.00000e+00
  penalty:    -7.10543e-13

  constraint: table(twiss,e.ds.r8.b1,dx)=eir8b1->dx   
  values:     +9.95758e-01=+9.95758e-01
  weight:     +1.00000e+00
  penalty:    +0.00000e+00

  constraint: table(twiss,e.ds.r8.b1,dpx)=eir8b1->dpx 
  values:     +1.28965e-02=+1.28965e-02
  weight:     +1.00000e+00
  penalty:    +6.76542e-17

  constraint: table(twiss,e.ds.r8.b1,mux)=muxip8      
  values:     +3.20400e+00=+3.20400e+00
  weight:     +1.00000e+00
  penalty:    +1.33227e-15

  constraint: table(twiss,e.ds.r8.b1,muy)=muyip8      
  values:     +2.80400e+00=+2.80400e+00
  weight:     +1.00000e+00
  penalty:    -1.77636e-15



Final Penalty Function =   8.20532498e-25



Variable                 Final Value  Initial Value Lower Limit  Upper Limit 
--------------------------------------------------------------------------------
kq4.l8b1                 -3.99544e-03 -4.18771e-03 -8.56571e-03  8.56571e-03
kq5.l8b1                  4.73765e-03  5.13846e-03 -8.56571e-03  8.56571e-03
kq6.l8b1                 -5.41888e-03 -4.97770e-03 -8.56571e-03  8.56571e-03
kq7.l8b1                  8.37014e-03  8.11522e-03 -8.56571e-03  8.56571e-03
kq8.l8b1                 -5.61910e-03 -5.79118e-03 -8.56571e-03  8.56571e-03
kq9.l8b1                  7.27802e-03  7.25303e-03 -8.56571e-03  8.56571e-03
kq10.l8b1                -5.80311e-03 -5.59176e-03 -8.56571e-03  8.56571e-03
kqtl11.l8b1               4.31291e-04  4.29513e-04 -5.56771e-03  5.56771e-03
kqt12.l8b1               -1.57163e-03 -1.53914e-03 -5.56771e-03  5.56771e-03
kqt13.l8b1                5.39722e-03  5.56720e-03 -5.56771e-03  5.56771e-03
kq4.r8b1                  3.12667e-03  3.06157e-03 -8.56571e-03  8.56571e-03
kq5.r8b1                 -2.77858e-03 -2.76586e-03 -8.56571e-03  8.56571e-03
kq6.r8b1                  4.79049e-03  4.28389e-03 -8.56571e-03  8.56571e-03
kq7.r8b1                 -6.45440e-03 -6.29405e-03 -8.56571e-03  8.56571e-03
kq8.r8b1                  8.29707e-03  8.55625e-03 -8.56571e-03  8.56571e-03
kq9.r8b1                 -7.83835e-03 -8.08849e-03 -8.56571e-03  8.56571e-03
kq10.r8b1                 7.57525e-03  7.63425e-03 -8.56571e-03  8.56571e-03
kqtl11.r8b1              -5.55062e-03 -5.56633e-03 -5.56771e-03  5.56771e-03
kqt12.r8b1               -5.44189e-04 -6.74525e-04 -5.56771e-03  5.56771e-03
kqt13.r8b1               -1.92560e-03 -1.92490e-03 -5.56771e-03  5.56771e-03

END MATCH SUMMARY

VARIABLE "TAR" SET TO   8.20532498e-25
write,table=str.ip8.b1,file="str.ip8.b1.dat";

value, ncall;

ncall              =                665 ;
stop;


  Number of warnings: 1
1 in C and 0 in Fortran

  ++++++++++++++++++++++++++++++++++++++++++++
  +          MAD-X finished normally         +
  ++++++++++++++++++++++++++++++++++++++++++++
