local run_test in require("plotting")

-- The tests ------------------------------------------------------------------o
TestMis = {}

local function testSBENDtrans(x_coord, y_coord)
  local cfg = ref_cfg "sbend_trans" {
    elm = [[
elm: SBEND, 
      at=0.75, l=1.5, k0=${bdir}*pi/100, angle=${tdir}*pi/100*1.5, fringe=0,
      dx=${tdir}*0.1, dy=${tdir}*-0.1, ds=${sdir}*0.1;
    ]], 

    seql = 2,
    energy = 1, 

    tol = 1e2,
    nslice = 50,

    plot_info = {
      title = "SBEND With Translation",
      x_coord = x_coord,
      y_coord = y_coord,
      filename = "sbend-translation-plot.png",
    }

  }

  run_test(cfg)
end

TestMis.testSBENDtransLocal  = \-> testSBENDtrans("s", "x")
TestMis.testSBENDtransGlobal = \-> testSBENDtrans("Z", "X")